\documentclass[a4paper]{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{cmap}
\usepackage{geometry}
\usepackage{hyperref}
\usepackage{indentfirst}
\usepackage{xeCJK}

\geometry{margin=1in}

\setCJKmainfont[BoldFont={SimHei}]
{SimSun}
\setCJKmonofont{FangSong}

\title{NOIp'2012 Training Contest \#3}
\author{ftiasch}
\date{\today}

\renewcommand{\thesection}{第\arabic{section}题}
\renewcommand{\thesubsection}{}

\newcommand{\problem}{\section}
\newcommand{\inputformat}{\subsection{输入格式}}
\newcommand{\outputformat}{\subsection{输出格式}}
\newcommand{\sample}[2]{
\subsection{输入输出样例}
\begin{tabular}{|l|l|}
    \hline
    输入 & 输出 \\
    \hline
    \begin{minipage}[t]{200pt}
        \begin{ttfamily} #1 \end{ttfamily}
    \end{minipage} &
    \begin{minipage}[t]{200pt}
        \begin{ttfamily} #2 \end{ttfamily}
    \end{minipage} \\
    \hline
\end{tabular}
\vspace{1ex}
\par
}
\newcommand{\dataset}{\subsection{数据范围}}

\begin{document}

\maketitle

\problem{Square}

已知$n \times m$的字符矩阵，其中有且仅有$1$个由\texttt{"*"}组成的，大小为$s \times s$的矩形。现在给出矩阵第$k$行的情况，判断原来矩阵的情况。

\inputformat

第$1$行，$4$个整数$n$, $m$, $s$, $k$。

第$2$行，$m$个字符，表示第$k$行的情况。

\outputformat

如果原来矩阵的情况唯一确定，则输出\texttt{Unique}，否则输出\texttt{Ambiguous}。无解则输出\texttt{Impossible}

\sample{
4 4 1 2 \\
..*. \\
}{
Unique \\
}

\dataset

对于$100\%$的数据，$n, m \leq 5000$。

\problem{Pairs}

给出$n$个长度为$5$的字符串，两个字符串$(a, b)$称为$k$-匹配的，当且仅当$a$和$b$恰有$k$位不同，求$k$-匹配字符串对的数量。

\inputformat

第$1$行，$1$个整数$n$。

第$2 \sim (n + 1)$行，$1$个字符串$s_i$。

\outputformat

第$1$行，$6$个整数，分别表示$0$-匹配的，$1$-匹配的，...，$5$-匹配的字符串对数量。

\sample{
3 \\
abcde \\
ABCDE \\
12345 \\
}{
0 0 0 0 0 3 \\
}

\dataset

对于$100\%$的数据，$n \leq 50000$。

\section{Inversions}

现有$n$个元素$(a_i, b_i)$，把元素排序使得序列$\{a_i\}$和$\{b_i\}$逆序对数之和最小。

序列$\{x_i\}$的逆序对是指$i < j, x_i > x_j$的$(i, j)$数量。

\inputformat

第$1$行，$1$个整数$n$。

第$2 \sim (n + 1)$行，$2$个整数$a_i$和$b_i$。

\outputformat

第$1$行，$1$个整数，表示最小的逆序对数之和。

\sample{
3 \\
10 3 \\
20 2 \\
30 1 \\
}{
3 \\
}

\dataset

对于$100\%$的数据，$n \leq 100000$。


\end{document}
